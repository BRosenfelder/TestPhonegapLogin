<!DOCTYPE html>
<html>
  <head>
    <title>Device Properties Example</title>
    <script src="js/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="js/jquery.mobile-1.2.0.min.js" type="text/javascript"></script>
    <script type="text/javascript" charset="utf-8">
        var i = 0;
        
        function test() {

            var label = document.getElementById("Ausgabe");
            label.innerHTML = "Test";


        }
        
        function testASMX() {

            $.support.cors = true;
            $.mobile.allowCrossDomainPages = true;
            $.ajax({
                type: "POST",
                //url: "../services/commonservices.asmx/testIcenium",
                //url: "http://188.45.12.4/appframe/services/commonservices.asmx/testIcenium",
                url: "http://80.82.215.120/appframe/services/commonservices.asmx/testIcenium",
                //url: "http://localhost/appframe/services/commonservices.asmx/testIcenium",
                cache: false,
                contentType: "application/json; charset=utf-8",
                data: "{\"d\": " + i + "}",
                //data: varmyData,
                //processData: false,
                dataType: "json",
                success: successFunction,
                error: ajaxFailed
            });
        };
        function login() {

            $.support.cors = true;
            $.mobile.allowCrossDomainPages = true;
            $.ajax({
                type: "POST",
                //url: "../services/commonservices.asmx/testIcenium",
                //url: "http://188.45.12.4/appframe/services/commonservices.asmx/login",
                url: "http://80.82.215.120/appframe/services/commonservices.asmx/login",
                //url: "http://localhost/appframe/services/commonservices.asmx/testIcenium",
                cache: false,
                contentType: "application/json; charset=utf-8",
                data: "{\"userName\": \"1\", \"password\": \"Bernhard5007\"}",
                //data: varmyData,
                //processData: false,
                dataType: "json",
                success: successFunction,
                error: ajaxFailed
            });
        };
        function testAuthStatus() {


            $.support.cors = true;
            $.mobile.allowCrossDomainPages = true;
            $.ajax({
                type: "POST",
                //url: "../services/commonservices.asmx/getAuthStatus",
                //url: "http://188.45.12.4/appframe/services/commonservices.asmx/getAuthStatus",
                //url: "http://localhost/appframe/services/commonservices.asmx/getAuthStatus",
                url: "http://80.82.215.120/appframe/services/commonservices.asmx/getAuthStatus",
                cache: false,
                contentType: "application/json; charset=utf-8",
                data: "{}",
                //data: varmyData,
                //processData: false,
                dataType: "json",
                success: successFunction,
                error: ajaxFailed
                , xhrFields: {
                    withCredentials: true
                }
            });
        };
        function successFunction(data, status) {
            //alert(data.d);
            //$.("#Ausgabe").innerHTML
            var label = document.getElementById("Ausgabe");
            label.innerHTML = i.toString() + " " + data.d;
            i = i + 1;
            console.log(data.d);
        }
        function ajaxFailed(xmlRequest) {
            var label = document.getElementById("Ausgabe");
            label.innerHTML = "Error";
        }
    </script>
  </head>
  <body>
    <p id="version">Version 1</p>

    <input id="Button1" type="button" value="Test ASMX" onclick="testASMX();" /> <br />
    <input id="Button2" type="button" value="Test AuthStatus" onclick="testAuthStatus();" />

    <input id="Button3" type="button" value="Login" onclick="login();" /> <br />

    <input id="Button4" type="button" value="Status" onclick="testAuthStatus();" /> <br />

    <div id="Ausgabe">
        
    </div>
  </body>
</html>
    